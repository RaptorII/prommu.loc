$(function(){function i(t=false,e=''){var i=l.serialize(),n=l.serializeArray();if(t&&(t.preventDefault(),i=t.target.href.slice(t.target.href.indexOf(a+"?")+12)),""!=e){n=[];for(var s=(i=(urlString=e).slice(e.indexOf(a+"?")+12)).split("&"),o=0;o<s.length;o++)hash=s[o].split("="),n.push({name:hash[0],value:hash[1]});clearInterval(p)}else urlString=a+"?"+i;c.show(),$.ajax({type:"GET",url:a,data:i,success:function(e){r.html(e),""!==redirect&&(document.location.href=redirect),null!=arSeo?(void 0!==arSeo.meta_title?document.title=arSeo.meta_title:document.title="Поиск работодателей",$("*").is(h)&&(void 0!==arSeo.seo_h1?$(h).text(arSeo.seo_h1):$(h).text("")),void 0!==arSeo.meta_keywords?$(f).html(arSeo.meta_keywords):$(f).html("")):(document.title="Поиск работодателей",$(h).text(""),$(f).html("")),window.history.pushState("object or string","page name",urlString),d=urlString,t&&$("html, body").animate({scrollTop:r.offset().top-100},700),c.hide()}})}function e(){$("*").is(".filter-cities .select2")&&($(".filter-cities .pse__filter-content").addClass("active"),clearInterval(s))}function t(){var e=document.location.pathname+document.location.search;e!==d&&i(!1,d=e)}var a="/searchempl",l=$("#F1Filter"),r=$("#content"),c=$(".pse__veil"),h="#pse-seo-h1",f="#pse-seo-text",n="#pse-cities",d=document.location.pathname+document.location.search,p=setInterval(function(){t()},500);$(n).select2(),l.on("change",n,function(){i()});var s=setInterval(function(){e()},100);l.on("change",".filter-type input",function(){var e=$(".filter-type input");if($(this).is(e[0]))if($(this).is(":checked"))for(t=1;t<e.length;t++)$(e[t]).prop("checked",!0);else for(var t=1;t<e.length;t++)$(e[t]).prop("checked",!1);setTimeout(function(){i()},300)}),$(document).click(function(e){if($(e.target).hasClass("pse__filter-btn"))setTimeout(function(){i()},300);else if($(e.target).hasClass("pse__filter-name")){var t=$(e.target);t.hasClass("opened")?(t.siblings(".pse__filter-content").slideUp(200),setTimeout(function(){t.removeClass("opened"),t.siblings(".pse__filter-content").removeClass("opened")},200)):(t.addClass("opened"),t.siblings(".pse__filter-content").slideDown(500),t.siblings(".pse__filter-content").addClass("opened"))}}),$("#content").on("click",".paging-wrapp a",function(e){i(e)});var o=$("#F1Filter");$(window).on("load resize",function(){$(window).width()<"768"?$(".pse__filter-vis").hasClass("active")?o.show():o.hide():o.show()}),$(".pse__filter-vis").click(function(){$(this).hasClass("active")?o.fadeOut():o.fadeIn(),$(this).toggleClass("active")})});
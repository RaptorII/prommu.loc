$(function(){function a(e=false){var t=i.serialize();i.serializeArray();e&&(e.preventDefault(),t=e.target.href.slice(e.target.href.indexOf("/vacancy?")+9)),l.show(),urlString="/vacancy?"+t,$.ajax({type:"GET",url:"/vacancy",data:t,success:function(t){n.html(t),""!==redirect&&(document.location.href=redirect),null!=arSeo.url&&(urlString=arSeo.url),null!=arSeo.seo_h1?$("h1").text(arSeo.seo_h1):$("h1").text("Поиск вакансий"),null!=arSeo.meta_keywords?$(c).html(arSeo.meta_keywords):$(c).html(""),null!=arSeo.meta_title?document.title=arSeo.meta_title:document.title="Поиск вакансий",window.history.pushState("object or string","page name",urlString),e&&$("html, body").animate({scrollTop:n.offset().top-100},700),l.hide()}})}var i=$("#F1Filter"),n=$("#content"),e=$(".filter-dolj .psv__checkbox-input"),l=$(".psv__veil"),s=$(".psv__salary .psv__input"),r=$("#psv-salary-type"),c="#psv-seo-text";$(".templatingSelect2").select2();var t=setInterval(function(){$("*").is(".filter-cities .select2")&&($(".filter-cities .filter-content").addClass("active"),clearInterval(t))},100);$("#vac-srch-cities").change(function(){a()}),$(".filter-dolj .psv__checkbox-input").change(function(){if($(this).is(e[0]))if($(this).is(":checked"))for(t=1;t<e.length;t++)$(e[t]).prop("checked",!0);else for(var t=1;t<e.length;t++)$(e[t]).prop("checked",!1);setTimeout(function(){a()},300)}),$(".filter-busy input, .filter-sex input, .filter-smart input, .filter-card input").change(function(){setTimeout(function(){a()},300)}),s.focus(function(){for(var t=1,e=0;e<s.length;e++)$(this).is(s[e])&&(t=5<e?4:e<4?1<e?2:1:3);for(e=0;e<s.length;e++)(1==t&&0!=e&&1!=e||2==t&&2!=e&&3!=e||3==t&&4!=e&&5!=e||4==t&&6!=e&&7!=e)&&$(s[e]).val("");r.val(t)}),$(".psv__filter-btn").click(function(){var t=$(this).closest(".filter-label");if($(t).hasClass("filter-age")){var e=$(t).find("input"),i=Number($(e[0]).val()),n=Number($(e[1]).val());i<14&&($(e[0]).val("14"),i=14),n<i&&0<n&&$(e[1]).val("14")}setTimeout(function(){a()},300)}),$("#content").on("click",".paging-wrapp a",function(t){a(t)}),$("#content").on("click",".psv__view-block a",function(t){a(t)}),$(".more-posts").click(function(){$(this).closest(".filter-content").css({height:"788px"}),$(this).fadeOut()}),$(window).on("load resize",function(){$(window).width()<"768"?$(".psv__filter-vis").hasClass("active")?i.show():i.hide():i.show()}),$(".psv__filter-vis").click(function(){$(this).hasClass("active")?i.fadeOut():i.fadeIn(),$(this).toggleClass("active")}),$(".filter-salary input,.filter-age input").on("input",function(){var t=$(this).val().replace(/\D+/g,"");$(this).val(t)})});